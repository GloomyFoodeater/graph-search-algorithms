unit DynStructures;

interface

type
  // Тип односвязный список с натуральными числами
  TPList = ^TListElem;

  TListElem = record
    Elem: Cardinal;
    Next: TPList;
  end;

  // Тип стека с целыми числами
  TStack = TPList;

//TODO 1: Добавить очистку стека
procedure InitList(var List: TPList);
procedure PushBack(var Stack: TStack; n: Integer);
function PopBack(var Stack: TStack): Cardinal;
function isEmpty(const List: TPList): Boolean;

implementation

{ Процедура добавления элемента в стек }
procedure PushBack;
var
  t: TStack; // Добавляемый элемент стека
begin

  // Инициализация нового элемента
  New(t);
  t.Elem := n;
  t.Next := nil;

  // Перемещение вершины стека
  if not isEmpty(Stack) then
    t.Next := Stack;
  Stack := t;

end;

{ Функция извлечения значения вершины стека с удалением }
function PopBack;
var
  t: TStack; // Извлекаемый из стека элемент
begin

  if not isEmpty(Stack) then
  begin
    // Перемещение вершины стека
    t := Stack;
    Stack := Stack.Next;

    // Извлечение элемента с очисткой указателя
    Result := t.Elem;
    Dispose(t);
  end
  else
    Result := 0;

end;

{ Функция проверки динамической структуры на пустоту }
function isEmpty;
begin
  Result := List = nil;
end;

{Процедура инициализации списка}
procedure InitList;
begin
  List := nil;
end;

end.
