unit SearchOutputUnit;
{
  Модуль с описанием формы вывода пути,
  которая появляется при нахождении пути
  с помощью одного из алгоритмов.
}

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants,
  System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, GraphSearch;

type

  // Тип вспомогательной формы
  TfmSearchOutput = class(TForm)
    lbResults: TLabel;
    procedure FormShow(Sender: TObject);
  public
    Info: TSearchInfo; // Информация о пути
  end;

var
  fmSearchOutput: TfmSearchOutput;
  // fmSearchOutput - Вспомогательная форма

implementation

{$R *.dfm}

// Обработчик показа формы
procedure TfmSearchOutput.FormShow(Sender: TObject);
const
  NL = #13#10;
  // NL - Переход на новую строку

var
  ResString: String;
  // ResString - Строка для форматирования

begin
  Info.PathString := NL + Info.PathString;
  ResString := 'Найденный путь: %s' + NL + NL;
  ResString := ResString + 'Количество дуг в пути: %d' + NL;
  ResString := ResString + 'Длина найденного пути: %d' + NL;
  ResString := ResString + 'Количество посещений: %d' + NL;
  with Info do
    lbResults.Caption := Format(ResString, [PathString, ArcsCount, Distance,
      VisitsCount]);
end;

end.
